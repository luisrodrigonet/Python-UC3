# üéØ 08.04 ü¶ï Projeto Inical

## ü§ñ Atividade Proposta

1.  **Cria√ß√£o do Projeto `config`:** Onde estar√£o as configura√ß√µes globais.
2.  **Cria√ß√£o da Aplica√ß√£o `paginas`:** Para as p√°ginas est√°ticas simples.
3.  **Defini√ß√£o das Views:** Criando as fun√ß√µes para as p√°ginas `home`, `sobre` e `politica_privacidade`.
4.  **Configura√ß√£o de URLs:** Mapeando as URLs globais e as URLs da aplica√ß√£o `paginas`.

-----

## Passo a Passo üßó‚Äç‚ôÇÔ∏è Cria√ß√£o da Estrutura B√°sica

Acesse o diret√≥rio `c:\_python_uc3_2025.02\` e ative o **ambiente virtual**.

### :one: Cria√ß√£o do Projeto e Aplica√ß√£o

Primeiro, vamos entrar na pasta e criar o projeto e a aplica√ß√£o:

```bash
# 1. Entrar na pasta raiz do projeto
mkdir -p c:\_python_uc3_2025.02\projeto-basico
cd c:\_python_uc3_2025.02\projeto-basico

# 2. Criar o projeto Django chamado 'config'
# Este √© o container de configura√ß√µes.
django-admin startproject config . 

# 3. Criar a aplica√ß√£o chamada 'paginas'
# Aplica√ß√µes s√£o m√≥dulos espec√≠ficos de funcionalidade.
python manage.py startapp paginas
```

### :two: Configura√ß√£o Inicial do Projeto (`config/settings.py`)

Voc√™ precisa registrar a nova aplica√ß√£o no arquivo de configura√ß√µes.

```python
# config/settings.py

# ... (outras configura√ß√µes)

INSTALLED_APPS = [
    # Aplicativos de terceiros para personaliza√ß√£o do admin 
    # (ex: django-jazzmin ou adminlte)
    # 'jazzmin', 
    
    "django.contrib.admin",         # <-- Interface de Administra√ß√£o
    "django.contrib.auth",          # <-- Sistema de Autentica√ß√£o
    "django.contrib.contenttypes",  # <-- Framework de Tipos de Conte√∫do
    "django.contrib.sessions",      # <-- Framework de Sess√µes
    "django.contrib.messages",      # <-- Framework de Mensagens
    "django.contrib.staticfiles",   # <-- Gerenciamento de Arquivos Est√°ticos
    
    # ---------------------------------------------
    # Seus Aplicativos
    # ---------------------------------------------
    'paginas', # <<< Adicione sua aplica√ß√£o aqui
]

# ... (resto das configura√ß√µes)
```

ü§ñ **Observa√ß√µes:**

Os m√≥dulos listados no seu arquivo `settings.py`, dentro da configura√ß√£o `INSTALLED_APPS`, s√£o componentes essenciais do Django. Eles fornecem funcionalidades b√°sicas e fundamentais para a maioria dos projetos web.

Abaixo, detalho a finalidade de cada um desses apps:

| App | Finalidade Principal |
| :--- | :--- |
| `'django.contrib.admin'` | **Interface de Administra√ß√£o:** Fornece um painel de administra√ß√£o pronto para uso, que permite aos desenvolvedores (ou administradores) gerenciar o conte√∫do e os dados do site de forma visual e intuitiva, sem precisar escrever c√≥digo SQL. |
| `'django.contrib.auth'` | **Sistema de Autentica√ß√£o:** Gerencia usu√°rios, grupos, permiss√µes e sess√µes. √â o *framework* padr√£o do Django para lidar com seguran√ßa de acesso. |
| `'django.contrib.contenttypes'` | **Framework de Tipos de Conte√∫do:** Permite que voc√™ associe permiss√µes a modelos e crie *rela√ß√µes gen√©ricas*. Essencial para o funcionamento do Admin e do sistema de permiss√µes. Ele rastreia todos os modelos instalados. |
| `'django.contrib.sessions'` | **Framework de Sess√µes:** Permite armazenar e recuperar dados espec√≠ficos do usu√°rio por sess√£o no *backend*. Usado, por exemplo, para manter o usu√°rio logado entre requisi√ß√µes. |
| `'django.contrib.messages'` | **Framework de Mensagens:** Permite exibir mensagens √∫nicas ("flashes") para o usu√°rio ap√≥s uma requisi√ß√£o. √ötil para notifica√ß√µes de sucesso, erro ou aviso (ex: "Perfil atualizado com sucesso"). |
| `'django.contrib.staticfiles'` | **Gerenciamento de Arquivos Est√°ticos:** Gerencia a localiza√ß√£o e a veicula√ß√£o de arquivos est√°ticos (CSS, JavaScript, Imagens) durante o desenvolvimento e a implanta√ß√£o. |



### :three: Cria√ß√£o das Views (`paginas/views.py`)

Agora, vamos criar as fun√ß√µes que servir√£o as p√°ginas. Para p√°ginas est√°ticas simples, usamos a classe `TemplateView` do Django para maior eleg√¢ncia, neste momento utilizaremos fun√ß√µes para ser mais did√°tico no primeiro momento.

```python
# paginas/views.py

from django.shortcuts import render

def home(request):
    """
    View para a p√°gina inicial (Home).
    Renderiza o template 'home.html'.
    """
    return render(request, 'paginas/home.html', {'titulo': 'P√°gina Inicial'})

def sobre(request):
    """
    View para a p√°gina 'Sobre'.
    Renderiza o template 'sobre.html'.
    """
    return render(request, 'paginas/sobre.html', {'titulo': 'Sobre N√≥s'})

def politica_privacidade(request):
    """
    View para a p√°gina 'Pol√≠tica de Privacidade'.
    Renderiza o template 'politica_privacidade.html'.
    """
    return render(request, 'paginas/politica_privacidade.html', {'titulo': 'Pol√≠tica de Privacidade'})
```

### :four: Configura√ß√£o das URLs da Aplica√ß√£o (`paginas/urls.py`)

Crie o arquivo `paginas/urls.py` e mapeie as views:

```python
# paginas/urls.py
from django.urls import path
from . import views

# Define o namespace da aplica√ß√£o (√∫til para refer√™ncias em templates)
app_name = 'paginas' 

urlpatterns = [
    path('', views.home, name='home'), # URL vazia ser√° a raiz (/)
    path('sobre/', views.sobre, name='sobre'), # URL /sobre/
    path('politica-privacidade/', views.politica_privacidade, name='politica_privacidade'), # URL /politica-privacidade/
]
```

### :five: Configura√ß√£o das URLs do Projeto (`config/urls.py`)

Conecte as URLs da aplica√ß√£o `paginas` ao arquivo principal de URLs do projeto:

```python
# config/urls.py
from django.contrib import admin
from django.urls import path, include 

urlpatterns = [
    path('admin/', admin.site.urls),
    # Conecta todas as URLs da aplica√ß√£o 'paginas' na raiz do site
    path('', include('paginas.urls')), 
]
```

### :six: Cria√ß√£o dos Templates

Por fim, crie a estrutura de templates dentro da aplica√ß√£o `paginas`:

```
c:\_python_uc3_2025.02\projeto-basico\paginas\
|-- templates
    |-- paginas
        |-- home.html
        |-- sobre.html
        |-- politica_privacidade.html
```

**Exemplo de `paginas/templates/paginas/home.html`:**

```html
{% extends "base.html" %} 
{% block content %}
<div class="container mt-5">
    <h1>Bem-vindo √† {{ titulo }}</h1>
    <p class="lead">Este √© o ponto de partida do nosso projeto Django 5.2.</p>
</div>
{% endblock content %}
```

*(Voc√™ precisar√° criar um template base (`base.html`) em `projeto-basico/templates/base.html` posteriormente para que o `{% extends "base.html" %}` funcione corretamente.)*


### :seven: Cria√ß√£o do arquivo `base.html`

Crie este arquivo no seguinte caminho:

```
c:\_python_uc3_2025.02\projeto-basico\templates\base.html
```

**Lembre-se**: Para que o Django encontre essa pasta `templates`, voc√™ deve garantir que `TEMPLATES` em `settings.py` contenha o caminho para o diret√≥rio de templates raiz do seu projeto, o que geralmente √© feito por padr√£o ao usar `os.path.join(BASE_DIR, 'templates')`.

```html
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{% block title %}Meu Projeto Django 5.2{% endblock title %}</title>

    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
        crossorigin="anonymous"
    >

    {% block css %}{% endblock css %}
</head>
<body>
    
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="{% url 'paginas:home' %}">Django Experts</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="{% url 'paginas:home' %}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'paginas:sobre' %}">Sobre</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link btn btn-sm btn-outline-light" href="#">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main role="main" class="container mt-4 mb-5">
        {% block content %}
            {% endblock content %}
    </main>

    <footer class="footer mt-auto py-3 bg-light">
        <div class="container">
            <span class="text-muted">
                &copy; {% now "Y" %} Meu Projeto Django. 
                <a href="{% url 'paginas:politica_privacidade' %}" class="text-decoration-none ms-3">Pol√≠tica de Privacidade</a>
            </span>
        </div>
    </footer>

    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
        crossorigin="anonymous"
    ></script>

    {% block js %}{% endblock js %}

</body>
</html>
```

#### Observa√ß√µes Adicionais

üì¢ **Blocos Essenciais do Django:**
  * `{% block title %}`: Permite que cada template filho defina um t√≠tulo de p√°gina exclusivo.
  * `{% block content %}`: Este √© o bloco principal onde todo o conte√∫do espec√≠fico da p√°gina ser√° injetado.
  * `{% block css %}` e `{% block js %}`: S√£o pontos de extens√£o cruciais. Se uma p√°gina (ex: um formul√°rio complexo) precisar de um arquivo CSS ou JavaScript espec√≠fico, ela pode simplesmente definir estes blocos sem afetar outras p√°ginas.
  
üì¢ **Acessibilidade e SEO:** o atributo `lang="pt-br"` na tag `<html>` e o atributo `role="main"` na tag `<main>`, melhora a acessibilidade (Web Content Accessibility Guidelines - WCAG).

üì¢ **Links Din√¢micos:** Observe o uso de `href="{% url 'paginas:home' %}"`. Isso garante que, mesmo que voc√™ mude o caminho (`path`) da URL no futuro, o link no template continuar√° funcionando, pois ele se refere ao *nome* da rota (`name='home'`) e ao *namespace* da aplica√ß√£o (`paginas`), conforme definimos no passo anterior.

üì¢ **Responsividade:** O `meta name="viewport"` √© o padr√£o do HTML5 e √© fundamental para que o Bootstrap 5 e o design responsivo funcionem corretamente em dispositivos m√≥veis.

üì¢ **Footer Fixo:** O uso da classe `mt-auto` no `<footer>` √© uma t√©cnica comum do Bootstrap para "empurrar" o rodap√© para a parte inferior da viewport em layouts flexbox (o que √© o padr√£o em muitos projetos modernos, embora o exemplo acima seja simples).

-----

### Observa√ß√µes Adicionais

üö® **Conven√ß√£o de Templates:** Note que a estrutura de templates √© `paginas/templates/paginas/nome_do_arquivo.html`. O Django procura templates dentro de uma pasta com o nome da aplica√ß√£o (`paginas`) para evitar conflitos de nomes (ex: se outra app tivesse um `home.html`).


üö® **Django 5.2 e Rotas:** A fun√ß√£o `path()` com `include()` em `config/urls.py` √© a maneira padr√£o de rotear URLs em Django. O uso de `name='...'` nos arquivos `urls.py` das aplica√ß√µes √© crucial, pois permite que voc√™ se refira a uma URL usando `{% url 'nome_da_aplicacao:nome_da_url' %}` em seus templates (ex: `{% url 'paginas:home' %}`), tornando o c√≥digo mais robusto a mudan√ßas de caminhos.

üö® **Views Baseadas em Classe (CBVs):** Para p√°ginas est√°ticas como estas, a melhor pr√°tica √© usar a `TemplateView`. Substituir as fun√ß√µes em `paginas/views.py` por:


```python
# Exemplo de CBV
from django.views.generic import TemplateView

class HomePageView(TemplateView):
    template_name = "paginas/home.html"

# E no urls.py:
# path('', views.HomePageView.as_view(), name='home'),
```

Isso √© mais limpo e padronizado em projetos Django.

Agora voc√™ pode executar o servidor de desenvolvimento:

```bash
python manage.py runserver
```

E acessar `http://127.0.0.1:8000/`.

Voc√™ tem mais alguma d√∫vida ou gostaria de aprofundar na configura√ß√£o de algum dos pacotes, como o **Bootstrap 5** com o **django-widget-tweaks**, ou come√ßar a usar o **django-select2** para um campo de exemplo?