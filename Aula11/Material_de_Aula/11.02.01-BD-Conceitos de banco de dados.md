# 11.02.01 : Conceitos de banco de dados

> Neste material apresentaremos os conceitos, tipos de banco de dados e como o Django interage com eles de forma pr√°tica.


### üèõÔ∏è Sistema de Gerenciamento de Banco de Dados (`SGBD`)?

Imagine que seu *site* ou aplica√ß√£o √© uma grande loja. Voc√™ tem clientes, produtos, pedidos, etc. Onde voc√™ guarda todas essas informa√ß√µes de forma segura e organizada? Em um almoxarifado gigante e super organizado.

O **Sistema de Gerenciamento de Banco de Dados (SGBD)** √© o *software* que gerencia esse almoxarifado digital. Ele n√£o √© o dado em si (as caixas), nem o almoxarifado (o disco r√≠gido), mas sim o **gerente inteligente** que sabe:

  * **Onde guardar** cada nova informa√ß√£o.
  * **Como encontrar** uma informa√ß√£o espec√≠fica rapidamente.
  * **Quem pode acessar** ou modificar as informa√ß√µes (seguran√ßa).
  * **Como garantir** que os dados permane√ßam consistentes e corretos.

As opera√ß√µes b√°sicas que esse "**gerente**" realiza s√£o conhecidas como **CRUD**:

  * **C**reate (Criar): Adicionar um novo produto no estoque.
  * **R**ead (Ler): Consultar o pre√ßo de um produto.
  * **U**pdate (Atualizar): Mudar o nome de um cliente.
  * **D**elete (Deletar): Remover um pedido cancelado.

### üß∞ *SQL* vs. *NoSQL*: As Duas Grandes Fam√≠lias

Os **SGBDs** s√£o geralmente divididos em duas grandes fam√≠lias, com filosofias diferentes sobre como organizar os dados.

#### :one: Bancos de Dados SQL (Relacionais)

Pense no SQL como um conjunto de planilhas do Excel perfeitamente interligadas.

  * **Estrutura:** 
    - Os dados s√£o organizados em **tabelas** (como planilhas), que cont√™m **linhas** (registros) e **colunas** (campos). 
    - Por exemplo, uma tabela `produtos` com colunas `id`, `nome`, `preco`.
    
  * **Esquema Fixo (Schema):** 
    - A estrutura da tabela (suas colunas e os tipos de dados de cada uma) √© definida **antes** de voc√™ inserir qualquer informa√ß√£o. 
    - Se uma coluna espera um n√∫mero, voc√™ n√£o pode salvar um texto nela. Isso garante consist√™ncia.
    
  * **Rela√ß√µes:** 
    - O grande poder do SQL est√° em criar rela√ß√µes entre as tabelas. 
    - Por exemplo, a tabela `produtos` pode ter uma coluna `categoria_id` que se "conecta" √† tabela `categorias`.
    
  * **Linguagem:** 
    - Utiliza a **SQL (Structured Query Language)**, uma linguagem padronizada para consultar e manipular os dados.

**Exemplos populares:** `PostgreSQL`, `MySQL`, `MariaDB`, `SQLite`, `Oracle`.

#### :two: Bancos de Dados NoSQL (N√£o Relacionais)

Pense no `NoSQL` como um arquivo de fichas, onde cada ficha pode ter um **formato totalmente diferente da outra.**

  * **Estrutura:** 
    - N√£o h√° um √∫nico modelo. Os dados podem ser armazenados como:
      * **Documentos (mais comum):** Parecidos com arquivos JSON, onde cada registro √© um documento com sua pr√≥pria estrutura. Um produto pode ter o campo `cor`, e outro n√£o.
      * **Chave-Valor:** Um dicion√°rio gigante. `chave: "usuario_1"` aponta para `valor: {"nome": "Ana", "email": "ana@email.com"}`.
      * **Colunares, Grafos, etc.**
      
  * **Esquema Flex√≠vel (Schema-less):** 
    - Voc√™ n√£o precisa definir uma estrutura r√≠gida de antem√£o. 
    - Isso oferece grande flexibilidade para dados que mudam constantemente ou n√£o s√£o uniformes.
    
  * **Escalabilidade:** 
    - Geralmente s√£o projetados para escalar horizontalmente (adicionando mais m√°quinas ao sistema), o que √© √≥timo para Big Data e aplica√ß√µes com milh√µes de usu√°rios.

**Exemplos populares:** `MongoDB` (Documentos), `Redis` (Chave-Valor), `Cassandra` (Colunar).

| Caracter√≠stica |  bancos de dados SQL (Relacionais) | Bancos de Dados NoSQL (N√£o Relacionais) |
| :--- | :--- | :--- |
| **Modelo de Dados** | Tabelas com linhas e colunas | Documentos, Chave-Valor, Grafos, etc. |
| **Esquema (Schema)** | Fixo e pr√©-definido | Din√¢mico e flex√≠vel |
| **Rela√ß√µes** | Forte, atrav√©s de chaves estrangeiras | Menos r√≠gido, √†s vezes via dados aninhados |
| **Escalabilidade** | Vertical (aumentar a pot√™ncia de um servidor) | Horizontal (adicionar mais servidores) |
| **Ideal para** | Sistemas transacionais (bancos, e-commerce) | Big Data, redes sociais, dados n√£o estruturados |


### üöÄ Django e os Bancos de Dados: Uma Parceria de Sucesso

Aqui entra a m√°gica do Django\! Como desenvolvedores, nos n√£o precisamos escrever o c√≥digo `SQL` diretamente (embora possa, se quiser). O Django oferece uma camada de abstra√ß√£o chamada **`ORM (Object-Relational Mapper)`**.

**Como o `ORM` funciona?**

1.  Voc√™ define a estrutura dos seus dados usando classes em Python, no arquivo `models.py`.

2.  O Django l√™ essas classes e as traduz para o c√≥digo SQL necess√°rio para criar as tabelas no banco de dados que voc√™ escolheu.

3.  Quando voc√™ quer salvar ou buscar dados, voc√™ usa m√©todos simples em Python (como `Produto.objects.create()` ou `Produto.objects.all()`), e o `ORM` traduz isso para as consultas SQL correspondentes.

A maior vantagem √© que seu c√≥digo Python permanece o mesmo, n√£o importa se voc√™ est√° usando `PostgreSQL`, `MySQL` ou `SQLite`. Trocar de banco de dados se torna uma simples mudan√ßa no arquivo de configura√ß√£o\!

### üìä Tipos de Bancos de Dados Suportados pelo Django

O Django oferece suporte oficial (e bem testado) para os seguintes bancos de dados SQL:

1.  **PostgreSQL (O Recomendado):** 
    - Considerado o mais robusto e poderoso para aplica√ß√µes Django em produ√ß√£o. 
    - Possui recursos avan√ßados que se integram muito bem com o framework.
    
2.  **MySQL / MariaDB:** 
    - Extremamente populares no mundo do desenvolvimento web. 
    - S√£o √≥timas e confi√°veis op√ß√µes para produ√ß√£o. 
    - MariaDB √© um "fork" (deriva√ß√£o) do MySQL, totalmente compat√≠vel.
    
3.  **SQLite:** 
    - Como vimos, √© o padr√£o e perfeito para iniciar o desenvolvimento, testes e aplica√ß√µes pequenas que n√£o precisam de um servidor de banco de dados dedicado.
   
4.  **Oracle:** 
    - Um SGBD comercial muito poderoso, geralmente usado em grandes ambientes corporativos que j√° possuem infraestrutura Oracle.

üëâ **E o NoSQL?**
 
 O ORM principal do Django foi constru√≠do para bancos de dados relacionais (SQL). No entanto, a comunidade criou pacotes de terceiros que permitem a integra√ß√£o com bancos NoSQL. O mais famoso √© o **`Djongo`**, que permite usar o **MongoDB** com o Django, traduzindo as consultas do ORM do Django para a linguagem do MongoDB.

