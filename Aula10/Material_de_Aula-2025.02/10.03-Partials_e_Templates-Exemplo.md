# Organização e Manutenção de Templates com Django Partials

> Continuação ...

## :four: Aplicação Prática Completa

Vamos criar uma aplicação de blog para demonstrar todos os conceitos aprendidos.

### 4.0. Criando a aplicação

```bash 
python manage.py startapp blog
```



### 4.1. Estrutura do Projeto

```
projeto_aula/
│
├── manage.py
|
├── config/         <-- Pasta do Projeto
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
│
├── blog/           <-- Pasta da Aplicacao
│   ├── base.html
│   ├── models.py
│   ├── views.py
│   ├── urls.py
│   ├── admin.py
│   └── templates/
│      └── blog/    
│           ├── post_lista.html
│           ├── post_detalhe.html
│           └── categoria.html
│
├── templates/   <-- Pasta dos Templates
│   ├── base.html
│   └── partials/
│      ├── _navbar.html
│      ├── _footer.html
│      ├── _sidebar.html
│      └── _comentario.html
│
└── static/     <-- Pasta dos Arquivos Estáticos
    ├── css/
    │   └── styles.css
    ├── js/
    │   └── scripts.js
    └── images/
```

### 4.2. Models

```python
# blog/models.py
from django.db import models
from django.contrib.auth.models import User
from django.urls import reverse

class Categoria(models.Model):
    nome = models.CharField(max_length=100)
    slug = models.SlugField(unique=True)
    descricao = models.TextField(blank=True)
    
    class Meta:
        verbose_name_plural = 'Categorias'
    
    def __str__(self):
        return self.nome
    
    def get_absolute_url(self):
        return reverse('categoria_detalhe', kwargs={'slug': self.slug})

class Post(models.Model):
    titulo = models.CharField(max_length=200)
    slug = models.SlugField(unique=True)
    autor = models.ForeignKey(User, on_delete=models.CASCADE)
    categoria = models.ForeignKey(Categoria, on_delete=models.SET_NULL, 
                                  null=True, related_name='posts')
    conteudo = models.TextField()
    resumo = models.CharField(max_length=300)
    imagem_capa = models.ImageField(upload_to='posts/', blank=True)
    publicado_em = models.DateTimeField(auto_now_add=True)
    atualizado_em = models.DateTimeField(auto_now=True)
    ativo = models.BooleanField(default=True)
    visualizacoes = models.IntegerField(default=0)
    
    class Meta:
        ordering = ['-publicado_em']
        verbose_name = 'Post'
        verbose_name_plural = 'Posts'
    
    def __str__(self):
        return self.titulo
    
    def get_absolute_url(self):
        return reverse('post_detalhe', kwargs={'slug': self.slug})

class Comentario(models.Model):
    post = models.ForeignKey(Post, on_delete=models.CASCADE, 
                            related_name='comentarios')
    autor = models.CharField(max_length=100)
    email = models.EmailField()
    conteudo = models.TextField()
    criado_em = models.DateTimeField(auto_now_add=True)
    ativo = models.BooleanField(default=True)
    
    class Meta:
        ordering = ['-criado_em']
    
    def __str__(self):
        return f'Comentário de {self.autor} em {self.post.titulo}'
```

### 4.3. Views

```python
# blog/views.py
from django.shortcuts import render, get_object_or_404
from django.core.paginator import Paginator
from .models import Post, Categoria, Comentario

def post_lista(request):
    """Lista todos os posts publicados"""
    posts = Post.objects.filter(ativo=True)
    
    # Paginação
    paginator = Paginator(posts, 6)  # 6 posts por página
    page_number = request.GET.get('page')
    page_obj = paginator.get_page(page_number)
    
    # Categorias para sidebar
    categorias = Categoria.objects.all()
    posts_recentes = Post.objects.filter(ativo=True)[:5]
    
    context = {
        'page_obj': page_obj,
        'categorias': categorias,
        'posts_recentes': posts_recentes,
    }
    return render(request, 'blog/post_lista.html', context)

def post_detalhe(request, slug):
    """Exibe detalhes de um post específico"""
    post = get_object_or_404(Post, slug=slug, ativo=True)
    
    # Incrementa visualizações
    post.visualizacoes += 1
    post.save(update_fields=['visualizacoes'])
    
    # Comentários
    comentarios = post.comentarios.filter(ativo=True)
    
    # Posts relacionados
    posts_relacionados = Post.objects.filter(
        categoria=post.categoria,
        ativo=True
    ).exclude(id=post.id)[:3]
    
    # Adicionar comentário
    if request.method == 'POST':
        autor = request.POST.get('autor')
        email = request.POST.get('email')
        conteudo = request.POST.get('conteudo')
        
        Comentario.objects.create(
            post=post,
            autor=autor,
            email=email,
            conteudo=conteudo
        )
        
        # Se estiver usando HTMX, retorna apenas o partial
        if request.headers.get('HX-Request'):
            comentario = Comentario.objects.filter(post=post).latest('criado_em')
            return render(request, 'blog/post_detalhe.html#comentario-item',
                        {'comentario': comentario})
    
    context = {
        'post': post,
        'comentarios': comentarios,
        'posts_relacionados': posts_relacionados,
        'categorias': Categoria.objects.all(),
    }
    return render(request, 'blog/post_detalhe.html', context)

def categoria_detalhe(request, slug):
    """Lista posts de uma categoria específica"""
    categoria = get_object_or_404(Categoria, slug=slug)
    posts = Post.objects.filter(categoria=categoria, ativo=True)
    
    # Paginação
    paginator = Paginator(posts, 6)
    page_number = request.GET.get('page')
    page_obj = paginator.get_page(page_number)
    
    context = {
        'categoria': categoria,
        'page_obj': page_obj,
        'categorias': Categoria.objects.all(),
    }
    return render(request, 'blog/categoria.html', context)
```

### 4. URLs

```python
# blog/urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.post_lista, name='post_lista'),
    path('post/<slug:slug>/', views.post_detalhe, name='post_detalhe'),
    path('categoria/<slug:slug>/', views.categoria_detalhe, name='categoria_detalhe'),
]
```

### 5. Template Base

```html
<!-- templates/base.html -->
{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}Blog sobre tecnologia e desenvolvimento web{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}django, python, web development{% endblock %}">
    <meta name="author" content="Seu Nome">
    
    <title>{% block title %}Meu Blog{% endblock %} | Blog Tech</title>
    
    <!-- Bootstrap 5.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
          rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" 
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- CSS Customizado -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    
    <!-- CSS específico da página -->
    {% block extra_css %}{% endblock %}
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
</head>
<body>
    <!-- Navegação -->
    {% include 'partials/_navbar.html' %}
    
    <!-- Breadcrumb -->
    {% block breadcrumb %}{% endblock %}
    
    <!-- Conteúdo Principal -->
    <main class="py-4">
        {% block content %}
        <!-- Conteúdo das páginas será inserido aqui -->
        {% endblock %}
    </main>
    
    <!-- Footer -->
    {% include 'partials/_footer.html' %}
    
    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- HTMX para interatividade (opcional) -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <!-- JavaScript customizado -->
    <script src="{% static 'js/scripts.js' %}"></script>
    
    <!-- JavaScript específico da página -->
    {% block extra_js %}{% endblock %}
</body>
</html>
```

### 6. Navbar Partial

```html
<!-- templates/partials/_navbar.html -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
    <div class="container">
        <a class="navbar-brand fw-bold" href="{% url 'post_lista' %}">
            <i class="bi bi-journal-code"></i> Blog Tech
        </a>
        
        <button class="navbar-toggler" 
                type="button" 
                data-bs-toggle="collapse" 
                data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'post_lista' %}active{% endif %}" 
                       href="{% url 'post_lista' %}">
                        <i class="bi bi-house-door"></i> Início
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" 
                       href="#" 
                       role="button" 
                       data-bs-toggle="dropdown">
                        <i class="bi bi-tags"></i> Categorias
                    </a>
                    <ul class="dropdown-menu">
                        {% for categoria in categorias %}
                        <li>
                            <a class="dropdown-item" 
                               href="{% url 'categoria_detalhe' categoria.slug %}">
                                {{ categoria.nome }}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="bi bi-envelope"></i> Contato
                    </a>
                </li>
                <li class="nav-item">
                    <form class="d-flex ms-2" role="search">
                        <input class="form-control form-control-sm" 
                               type="search" 
                               placeholder="Buscar..." 
                               aria-label="Buscar">
                        <button class="btn btn-outline-light btn-sm ms-1" type="submit">
                            <i class="bi bi-search"></i>
                        </button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
</nav>
```

### 7. Sidebar Partial

```html
<!-- templates/partials/_sidebar.html -->
<aside>
    <!-- Sobre o Blog -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="bi bi-info-circle"></i> Sobre o Blog</h5>
        </div>
        <div class="card-body">
            <p class="card-text">
                Blog dedicado a compartilhar conhecimento sobre desenvolvimento web,
                com foco em Django, Python e tecnologias modernas.
            </p>
        </div>
    </div>
    
    <!-- Categorias -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="bi bi-tags"></i> Categorias</h5>
        </div>
        <div class="list-group list-group-flush">
            {% for categoria in categorias %}
            <a href="{% url 'categoria_detalhe' categoria.slug %}" 
               class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                {{ categoria.nome }}
                <span class="badge bg-primary rounded-pill">
                    {{ categoria.posts.count }}
                </span>
            </a>
            {% endfor %}
        </div>
    </div>
    
    <!-- Posts Recentes -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="bi bi-clock-history"></i> Posts Recentes</h5>
        </div>
        <div class="list-group list-group-flush">
            {% for post in posts_recentes %}
            <a href="{{ post.get_absolute_url }}" 
               class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h6 class="mb-1">{{ post.titulo|truncatewords:5 }}</h6>
                    <small class="text-muted">
                        {{ post.publicado_em|date:"d/m/y" }}
                    </small>
                </div>
                <p class="mb-1 small text-muted">{{ post.resumo|truncatewords:10 }}</p>
            </a>
            {% endfor %}
        </div>
    </div>
    
    <!-- Tags Cloud (exemplo estático) -->
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="bi bi-tag"></i> Tags Populares</h5>
        </div>
        <div class="card-body">
            <a href="#" class="badge bg-secondary me-1 mb-1">Django</a>
            <a href="#" class="badge bg-secondary me-1 mb-1">Python</a>
            <a href="#" class="badge bg-secondary me-1 mb-1">HTML5</a>
            <a href="#" class="badge bg-secondary me-1 mb-1">CSS3</a>
            <a href="#" class="badge bg-secondary me-1 mb-1">Bootstrap</a>
            <a href="#" class="badge bg-secondary me-1 mb-1">JavaScript</a>
        </div>
    </div>
</aside>
```

### 8. Template de Lista de Posts com Partials

```html
<!-- templates/blog/post_lista.html -->
{% extends 'base.html' %}
{% load static %}
{% load partials %}

{% block title %}Todos os Posts{% endblock %}

{% block meta_description %}
Confira todos os artigos sobre desenvolvimento web, Django e Python
{% endblock %}

{# Definindo partial para card de post #}
{% partialdef post-card %}
<div class="card h-100 shadow-sm hover-shadow transition">
    {% if post.imagem_capa %}
    <img src="{{ post.imagem_capa.url }}" 
         class="card-img-top" 
         alt="{{ post.titulo }}"
         style="height: 200px; object-fit: cover;">
    {% else %}
    <div class="card-img-top bg-primary d-flex align-items-center justify-content-center" 
         style="height: 200px;">
        <i class="bi bi-image text-white" style="font-size: 3rem;"></i>
    </div>
    {% endif %}
    
    <div class="card-body d-flex flex-column">
        <div class="mb-2">
            <span class="badge bg-primary">{{ post.categoria.nome }}</span>
            <span class="badge bg-secondary">
                <i class="bi bi-eye"></i> {{ post.visualizacoes }}
            </span>
        </div>
        
        <h5 class="card-title">
            <a href="{{ post.get_absolute_url }}" 
               class="text-decoration-none text-dark">
                {{ post.titulo }}
            </a>
        </h5>
        
        <p class="card-text text-muted flex-grow-1">
            {{ post.resumo|truncatewords:20 }}
        </p>
        
        <div class="mt-auto">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <small class="text-muted">
                    <i class="bi bi-person-circle"></i> {{ post.autor.get_full_name }}
                </small>
                <small class="text-muted">
                    <i class="bi bi-calendar3"></i> {{ post.publicado_em|date:"d/m/Y" }}
                </small>
            </div>
            <a href="{{ post.get_absolute_url }}" 
               class="btn btn-primary btn-sm w-100">
                Ler Mais <i class="bi bi-arrow-right"></i>
            </a>
        </div>
    </div>
</div>
{% endpartialdef post-card %}

{% block breadcrumb %}
<nav aria-label="breadcrumb" class="bg-light py-2">
    <div class="container">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item active" aria-current="page">
                <i class="bi bi-house-door"></i> Início
            </li>
        </ol>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <!-- Conteúdo Principal -->
        <div class="col-lg-8">
            <div class="mb-4">
                <h1 class="display-5 fw-bold">Bem-vindo ao Blog Tech</h1>
                <p class="lead text-muted">
                    Explore nossos artigos sobre desenvolvimento web e tecnologia
                </p>
            </div>
            
            <!-- Grid de Posts usando o partial definido -->
            <div class="row g-4">
                {% for post in page_obj %}
                <div class="col-md-6">
                    {% partial post-card %}
                </div>
                {% empty %}
                <div class="col-12">
                    <div class="alert alert-info">
                        <h4><i class="bi bi-info-circle"></i> Nenhum post encontrado</h4>
                        <p>Aguarde! Em breve publicaremos novos conteúdos.</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <!-- Paginação -->
            {% if page_obj.has_other_pages %}
            <nav aria-label="Navegação de páginas" class="mt-5">
                <ul class="pagination justify-content-center">
                    {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" 
                           href="?page={{ page_obj.previous_page_number }}">
                            <i class="bi bi-chevron-left"></i> Anterior
                        </a>
                    </li>
                    {% endif %}
                    
                    {% for num in page_obj.paginator.page_range %}
                        {% if page_obj.number == num %}
                        <li class="page-item active">
                            <span class="page-link">{{ num }}</span>
                        </li>
                        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                        </li>
                        {% endif %}
                    {% endfor %}
                    
                    {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" 
                           href="?page={{ page_obj.next_page_number }}">
                            Próxima <i class="bi bi-chevron-right"></i>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
            {% endif %}
        </div>
        
        <!-- Sidebar -->
        <div class="col-lg-4">
            {% include 'partials/_sidebar.html' %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .hover-shadow {
        transition: all 0.3s ease;
    }
    .hover-shadow:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
    }
</style>
{% endblock %}
```

### 9. Template de Detalhes do Post

```html
<!-- templates/blog/post_detalhe.html -->
{% extends 'base.html' %}
{% load static %}
{% load partials %}

{% block title %}{{ post.titulo }}{% endblock %}

{% block meta_description %}{{ post.resumo }}{% endblock %}

{# Partial para comentário #}
{% partialdef comentario-item %}
<div class="card mb-3" id="comentario-{{ comentario.id }}">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-2">
            <h6 class="mb-0">
                <i class="bi bi-person-circle text-primary"></i>
                {{ comentario.autor }}
            </h6>
            <small class="text-muted">
                {{ comentario.criado_em|date:"d/m/Y H:i" }}
            </small>
        </div>
        <p class="mb-0">{{ comentario.conteudo }}</p>
    </div>
</div>
{% endpartialdef comentario-item %}

{% block breadcrumb %}
<nav aria-label="breadcrumb" class="bg-light py-2">
    <div class="container">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item">
                <a href="{% url 'post_lista' %}"><i class="bi bi-house-door"></i> Início</a>
            </li>
            <li class="breadcrumb-item">
                <a href="{% url 'categoria_detalhe' post.categoria.slug %}">
                    {{ post.categoria.nome }}
                </a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                {{ post.titulo|truncatewords:5 }}
            </li>
        </ol>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-8">
            <!-- Artigo Principal -->
            <article class="mb-5">
                <!-- Cabeçalho do Post -->
                <header class="mb-4">
                    <h1 class="display-5 fw-bold mb-3">{{ post.titulo }}</h1>
                    
                    <div class="d-flex flex-wrap gap-2 align-items-center text-muted mb-3">
                        <span>
                            <i class="bi bi-person-circle"></i>
                            Por <strong>{{ post.autor.get_full_name }}</strong>
                        </span>
                        <span>•</span>
                        <span>
                            <i class="bi bi-calendar3"></i>
                            {{ post.publicado_em|date:"d de F de Y" }}
                        </span>
                        <span>•</span>
                        <span>
                            <i class="bi bi-eye"></i>
                            {{ post.visualizacoes }} visualizações
                        </span>
                        <span>•</span>
                        <span>
                            <i class="bi bi-chat-dots"></i>
                            {{ comentarios.count }} comentário{{ comentarios.count|pluralize }}
                        </span>
                    </div>
                    
                    <span class="badge bg-primary">{{ post.categoria.nome }}</span>
                </header>
                
                <!-- Imagem de Capa -->
                {% if post.imagem_capa %}
                <figure class="mb-4">
                    <img src="{{ post.imagem_capa.url }}" 
                         class="img-fluid rounded shadow" 
                         alt="{{ post.titulo }}">
                </figure>
                {% endif %}
                
                <!-- Conteúdo do Post -->
                <div class="post-content">
                    {{ post.conteudo|linebreaks }}
                </div>
                
                <!-- Compartilhar -->
                <div class="my-4">
                    <h5>Compartilhe este post:</h5>
                    <div class="d-flex gap-2">
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="bi bi-facebook"></i> Facebook
                        </a>
                        <a href="#" class="btn btn-outline-info btn-sm">
                            <i class="bi bi-twitter"></i> Twitter
                        </a>
                        <a href="#" class="btn btn-outline-success btn-sm">
                            <i class="bi bi-whatsapp"></i> WhatsApp
                        </a>
                        <a href="#" class="btn btn-outline-danger btn-sm">
                            <i class="bi bi-pinterest"></i> Pinterest
                        </a>
                    </div>
                </div>
            </article>
            
            <hr class="my-5">
            
            <!-- Posts Relacionados -->
            {% if posts_relacionados %}
            <section class="mb-5">
                <h3 class="mb-4">
                    <i class="bi bi-bookmark"></i> Posts Relacionados
                </h3>
                <div class="row g-3">
                    {% for post_relacionado in posts_relacionados %}
                    <div class="col-md-4">
                        <div class="card h-100">
                            {% if post_relacionado.imagem_capa %}
                            <img src="{{ post_relacionado.imagem_capa.url }}" 
                                 class="card-img-top" 
                                 alt="{{ post_relacionado.titulo }}"
                                 style="height: 150px; object-fit: cover;">
                            {% endif %}
                            <div class="card-body">
                                <h6 class="card-title">
                                    <a href="{{ post_relacionado.get_absolute_url }}" 
                                       class="text-decoration-none">
                                        {{ post_relacionado.titulo|truncatewords:8 }}
                                    </a>
                                </h6>
                                <small class="text-muted">
                                    {{ post_relacionado.publicado_em|date:"d/m/Y" }}
                                </small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>
            {% endif %}
            
            <hr class="my-5">
            
            <!-- Seção de Comentários -->
            <section id="comentarios">
                <h3 class="mb-4">
                    <i class="bi bi-chat-dots"></i> 
                    Comentários ({{ comentarios.count }})
                </h3>
                
                <!-- Formulário de Novo Comentário -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Deixe seu comentário</h5>
                        <form method="post" 
                              hx-post="{% url 'post_detalhe' post.slug %}"
                              hx-target="#lista-comentarios"
                              hx-swap="afterbegin">
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="autor" class="form-label">Nome *</label>
                                <input type="text" 
                                       class="form-control" 
                                       id="autor" 
                                       name="autor" 
                                       required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email *</label>
                                <input type="email" 
                                       class="form-control" 
                                       id="email" 
                                       name="email" 
                                       required>
                                <small class="text-muted">
                                    Seu email não será publicado
                                </small>
                            </div>
                            <div class="mb-3">
                                <label for="conteudo" class="form-label">Comentário *</label>
                                <textarea class="form-control" 
                                         id="conteudo" 
                                         name="conteudo" 
                                         rows="4" 
                                         required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-send"></i> Enviar Comentário
                            </button>
                        </form>
                    </div>
                </div>
                
                <!-- Lista de Comentários -->
                <div id="lista-comentarios">
                    {% for comentario in comentarios %}
                        {% partial comentario-item %}
                    {% empty %}
                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i>
                        Seja o primeiro a comentar neste post!
                    </div>
                    {% endfor %}
                </div>
            </section>
        </div>
        
        <!-- Sidebar -->
        <div class="col-lg-4">
            {% include 'partials/_sidebar.html' %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .post-content {
        font-size: 1.1rem;
        line-height: 1.8;
    }
    .post-content p {
        margin-bottom: 1.5rem;
    }
</style>
{% endblock %}
```

### 10. CSS Customizado

```css
/* static/css/styles.css */

/* ===== Variáveis CSS ===== */
:root {
    --primary-color: #0d6efd;
    --secondary-color: #6c757d;
    --success-color: #198754;
    --danger-color: #dc3545;
    --light-bg: #f8f9fa;
    --dark-text: #212529;
    --border-radius: 0.5rem;
    --transition-speed: 0.3s;
}

/* ===== Estilos Globais ===== */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--dark-text);
    background-color: #ffffff;
}

/* Links */
a {
    text-decoration: none;
    color: var(--primary-color);
    transition: color var(--transition-speed);
}

a:hover {
    color: #0a58ca;
}

/* ===== Navbar ===== */
.navbar {
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.navbar-brand {
    font-size: 1.5rem;
}

/* ===== Cards ===== */
.card {
    border: none;
    border-radius: var(--border-radius);
    overflow: hidden;
}

.card-img-top {
    transition: transform var(--transition-speed);
}

.card:hover .card-img-top {
    transform: scale(1.05);
}

/* ===== Badges ===== */
.badge {
    font-weight: 500;
    padding: 0.5em 0.75em;
}

/* ===== Botões ===== */
.btn {
    border-radius: var(--border-radius);
    padding: 0.5rem 1.5rem;
    font-weight: 500;
    transition: all var(--transition-speed);
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* ===== Footer ===== */
footer {
    background-color: var(--dark-text);
    color: white;
    padding: 3rem 0 1rem;
    margin-top: auto;
}

footer a {
    color: #adb5bd;
}

footer a:hover {
    color: white;
}

/* ===== Paginação ===== */
.pagination {
    gap: 0.5rem;
}

.page-link {
    border-radius: var(--border-radius);
    border: none;
    color: var(--primary-color);
}

.page-item.active .page-link {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

/* ===== Breadcrumb ===== */
.breadcrumb {
    background-color: transparent;
}

/* ===== Comentários ===== */
#comentarios .card {
    border-left: 3px solid var(--primary-color);
}

/* ===== Responsividade ===== */
@media (max-width: 768px) {
    .display-5 {
        font-size: 2rem;
    }
    
    .navbar-brand {
        font-size: 1.2rem;
    }
}

/* ===== Animações ===== */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.card {
    animation: fadeIn 0.5s ease-in;
}

/* ===== Utilidades ===== */
.transition {
    transition: all var(--transition-speed) ease;
}

.shadow-hover:hover {
    box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
}
```

## Resumo dos Conceitos

### Comparação: CSS vs Templates

| Aspecto | CSS Inline/Interno | CSS Externo | Templates Duplicados | Templates com Herança/Partials |
|---------|-------------------|-------------|----------------------|-------------------------------|
| **Manutenção** | Difícil - mudanças em múltiplos lugares | Fácil - um único arquivo | Difícil - editar todos os templates | Fácil - editar template base |
| **Reutilização** | Baixa | Alta | Baixa | Alta |
| **Performance** | Ruim - sem cache | Ótima - usa cache | N/A | Boa - templates compilados |
| **Organização** | Confusa | Clara e modular | Confusa e repetitiva | Clara e modular |
| **DRY** | ❌ Viola | ✅ Respeita | ❌ Viola | ✅ Respeita |

### Quando Usar Cada Recurso

**Template Inheritance (`{% extends %}`):**
- Estrutura geral do site (header, footer, navegação)
- Layout compartilhado entre múltiplas páginas
- Hierarquia clara de templates (base → seção → página)

**Include Tag (`{% include %}`):**
- Componentes reutilizáveis (navbar, footer, sidebar)
- Widgets que aparecem em múltiplas páginas
- Quando o componente é independente e não precisa de contexto especial

**Template Partials (`{% partialdef %}`):**
- Fragmentos que se repetem dentro da mesma página
- Componentes que serão atualizados via AJAX/HTMX
- Quando você quer manter o código próximo (localidade de comportamento)
- Evitar criar arquivos separados para pequenos fragmentos

## Exercício Prático

**Desafio:** Crie uma aplicação de lista de tarefas (To-Do List) aplicando todos os conceitos aprendidos:

1. Crie um template base com Bootstrap 5.3
2. Implemente navbar e footer usando `{% include %}`
3. Use `{% partialdef %}` para o card individual de cada tarefa
4. Permita adicionar tarefas via formulário que atualiza apenas a lista (HTMX)
5. Implemente filtros por categoria na sidebar

**Requisitos:**
- Não repetir código HTML
- Usar herança de templates corretamente
- Criar pelo menos 3 partials reutilizáveis
- CSS externo organizado
- Design responsivo com Bootstrap

## Conclusão

Você aprendeu nesta aula como a organização adequada de templates no Django pode tornar seu código muito mais fácil de manter e evoluir, exatamente como acontece com arquivos CSS externos!

**Principais aprendizados:**

✅ **Template Inheritance** elimina duplicação de estrutura HTML  
✅ **Include Tag** permite reutilizar componentes em múltiplas páginas  
✅ **Partials** oferecem fragmentos nomeados e contextualizados  
✅ **Organização modular** facilita manutenção e trabalho em equipe  
✅ **DRY (Don't Repeat Yourself)** torna o código profissional e escalável

Assim como você não colocaria todo o CSS inline em suas páginas, você também não deve duplicar estrutura HTML entre seus templates. Use as ferramentas que o Django oferece para criar código limpo, organizado e fácil de manter!

