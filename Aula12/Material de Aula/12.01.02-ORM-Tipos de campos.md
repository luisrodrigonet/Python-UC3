# 12.01.02: ORM - campos e propriedades suportadas

Este guia √© um verdadeiro "**Dicion√°rio de Fields**", que lista de forma exaustiva os **tipos de campos** do Django e detalha todas as **propriedades suportadas** por eles.

Dado o volume de detalhes, o conte√∫do foi estruturado da seguinte forma para manter a clareza e evitar repeti√ß√µes desnecess√°rias:

1.  **Propriedades Comuns:** Uma se√ß√£o detalhada explicando todas as propriedades que s√£o aplic√°veis √† maioria dos campos. Consulte esta se√ß√£o primeiro.

2.  **Dicion√°rio de Fields:** A lista completa dos campos, agrupados por categoria. Para cada campo, explico seu prop√≥sito e detalho apenas as **propriedades espec√≠ficas** daquele campo, ou aquelas que possuem um comportamento especial.



### üîë Propriedades Comuns a Quase Todos os Campos

Estas s√£o as propriedades que voc√™ pode usar na maioria dos tipos de campo do Django.

* **`null`** (Booleano): 
    - Se `True`, o Django armazenar√° valores vazios como `NULL` no banco de dados. 
    - O padr√£o √© `False`.
    
* **`blank`** (Booleano): 
    - Se `True`, o campo pode ser deixado em branco nos formul√°rios do Django. O padr√£o √© `False`. 
    - √â uma propriedade de valida√ß√£o, diferente de `null`, que √© uma propriedade de banco de dados.
   
* **`choices`** (Iter√°vel): 
    - Uma sequ√™ncia (lista ou tupla) de tuplas de 2 elementos para usar como escolhas para este campo. 
    - Se `choices` for definido, o Django exibir√° um campo de sele√ß√£o em vez do campo de formul√°rio padr√£o.
    - Exemplo: 
        - `ANO_CHOICES = [('JR', 'J√∫nior'), ('PL', 'Pleno'), ('SR', 'S√™nior')]`
        
* **`db_column`** (String): 
    - O nome da coluna a ser usada para este campo no banco de dados. 
    - Se n√£o for fornecido, o Django usar√° o nome do campo.

* **`db_index`** (Booleano): 
    - Se `True`, um √≠ndice de banco de dados ser√° criado para esta coluna, o que melhora a velocidade de consultas que filtram ou ordenam por este campo.

* **`db_tablespace`** (String): 
    - O nome do "tablespace" do banco de dados a ser usado para o √≠ndice deste campo (se o backend do banco de dados suportar).

* **`default`**: 
    - O valor padr√£o para o campo. 
    - Pode ser um valor literal ou um objeto cham√°vel (uma fun√ß√£o, por exemplo). 
    - Se for cham√°vel, ser√° chamado toda vez que um novo objeto for criado.

* **`editable`** (Booleano): 
    - Se `False`, o campo n√£o ser√° exibido no painel de administra√ß√£o do Django ou em qualquer `ModelForm`. 
    - O padr√£o √© `True`.

* **`error_messages`** (Dicion√°rio): 
    - Permite sobrescrever as mensagens de erro padr√£o que o campo gera (`null`, `blank`, `invalid`, `unique`, etc.).

* **`help_text`** (String): 
    - Um texto de ajuda extra para ser exibido nos formul√°rios ao lado do campo.

* **`primary_key`** (Booleano): 
    - Se `True`, define este campo como a chave prim√°ria do modelo. 
    - Apenas um campo por modelo pode ser a chave prim√°ria.

* **`unique`** (Booleano): 
    - Se `True`, este campo deve ter um valor √∫nico em toda a tabela.

* **`validators`** (Lista): 
    - Uma lista de fun√ß√µes de valida√ß√£o a serem chamadas para este campo antes de salvar.

* **`verbose_name`** (String): 
    - Um nome leg√≠vel por humanos para o campo. 
    - Se n√£o for fornecido, o Django criar√° um a partir do nome do campo (substituindo underscores por espa√ßos).


### üìñ Dicion√°rio de Fields do Django

Aqui est√° a lista detalhada dos campos, agrupados por categoria.

#### üî¢ Campos Num√©ricos

* **`IntegerField`**: 
    - Armazena um n√∫mero inteiro.
    * *N√£o possui propriedades espec√≠ficas al√©m das comuns.*
  
* **`BigIntegerField`**: 
    - Armazena um inteiro de **64 bits**, similar a um **`IntegerField`**, mas permite n√∫meros de **-9223372036854775808** a **9223372036854775807**.
    * *N√£o possui propriedades espec√≠ficas.*
  
* **`SmallIntegerField`**: 
    - Armazena um inteiro menor, geralmente de -32768 a 32767.
    * *N√£o possui propriedades espec√≠ficas.*
  
* **`PositiveIntegerField`**: 
    - Armazena um inteiro de 0 a 2147483647.

* **`PositiveSmallIntegerField`**: 
    - Armazena um inteiro positivo menor, de 0 a 32767.

* **`FloatField`**: 
    - Armazena um n√∫mero de ponto flutuante (float) de precis√£o dupla.
    * *N√£o possui propriedades espec√≠ficas.*
  
* **`DecimalField`**: 
    - Armazena um n√∫mero decimal de precis√£o fixa. Essencial para aplica√ß√µes financeiras.
    * **Propriedades Espec√≠ficas:**
      * **`max_digits`** (Inteiro): O n√∫mero m√°ximo total de d√≠gitos permitidos no n√∫mero (incluindo as casas decimais). **Obrigat√≥rio.**
      * **`decimal_places`** (Inteiro): O n√∫mero de casas decimais a serem armazenadas com o n√∫mero. **Obrigat√≥rio.**

#### üî° Campos de Texto

* **`CharField`**: 
    - Para uma string de tamanho fixo. Ideal para campos pequenos como nomes, t√≠tulos, etc.
  * **Propriedades Espec√≠ficas:**
      * **`max_length`** (Inteiro): O comprimento m√°ximo (em caracteres) do campo. **Obrigat√≥rio.**
      * **`db_collation`** (String): O nome da "collation" do banco de dados a ser usada para o campo (se o backend suportar).
      
* **`TextField`**: 
    - Para um campo de texto longo, como um par√°grafo ou descri√ß√£o de produto.
    * **Propriedades Espec√≠ficas:**
      * **`max_length`** (Inteiro): Embora seja um campo para textos grandes, `max_length` pode ser usado para impor um limite tamb√©m nos formul√°rios.
      * `**db_collation`** (String): Similar ao `CharField`.
      
* **`SlugField`**: 
    - Um `CharField` que valida a entrada para conter apenas letras, n√∫meros, underscores ou h√≠fens. Usado para URLs amig√°veis.
    * **Propriedades Espec√≠ficas:**
      * **`max_length`** (Inteiro): Como em `CharField`. Padr√£o √© 50.
      * **`allow_unicode`** (Booleano): Se `True`, aceita caracteres Unicode al√©m de ASCII. Padr√£o √© `False`.
      
* **`EmailField`**: 
    - Um `CharField` que usa um validador (`EmailValidator`) para garantir que o texto √© um e-mail v√°lido.
    * **Propriedades Espec√≠ficas:**
      * **`max_length`** (Inteiro): Padr√£o √© 254.
      
* **`URLField`**: 
    - Um **`CharField`** que usa um validador (**`URLValidator`**) para garantir que o texto √© uma URL v√°lida.
    -  **Propriedades Espec√≠ficas:**
        * **`max_length`** (Inteiro): Padr√£o √© 200.

#### üìÖ Campos de Data e Hora

* **`DateField`**: 
    - Armazena uma data (Python `datetime.date`).
    
* **`DateTimeField`**: 
    - Armazena uma data e hora (Python `datetime.datetime`).

* **`TimeField`**:
    - Armazena uma hora (Python `datetime.time`).

* **`DurationField`**: 
    - Armazena um per√≠odo de tempo (Python `timedelta`).
   
- **Propriedades Espec√≠ficas (para `Date`, `DateTime` e `Time`):**

    * **`auto_now`** (Booleano): 
        - Atualiza automaticamente o campo com a data/hora atual toda vez que o modelo √© salvo (`save()`). Ideal para campos `ultima_modificacao`.
    
    * **`auto_now_add`** (Booleano): 
        - Define automaticamente o campo com a data/hora atual quando o objeto √© criado pela primeira vez. Ideal para campos `data_de_criacao`.
    
üö® **Importante:** **`auto_now`**, **`auto_now_add`** e **`default`** s√£o mutuamente exclusivos.

#### üîó Campos de Relacionamento

* **`ForeignKey` (Um-para-Muitos)**:

  * **Primeiro argumento:** O modelo ao qual est√° se relacionando.
  
  * **Propriedades Espec√≠ficas:**
      * **`on_delete`**: A√ß√£o a ser executada quando o objeto referenciado √© deletado. **Obrigat√≥rio.** Valores poss√≠veis: **`models.CASCADE`**, **`models.PROTECT`**, **`models.RESTRICT`**, **`models.SET_NULL`**, **`models.SET_DEFAULT`**, **`models.SET()`**.
      
      * **`related_name`** (String): O nome a ser usado para a rela√ß√£o do objeto relacionado de volta para este. Ex: `autor.livros.all()`.
      
      * **`related_query_name`** (String): O nome a ser usado em filtros reversos.
      
      * **`limit_choices_to`** (Dicion√°rio ou Objeto Q): Limita as escolhas dispon√≠veis para este campo quando renderizado em um `ModelForm` ou no admin.
      
      * **`to_field`** (String): O campo no modelo relacionado ao qual a rela√ß√£o √© feita (o padr√£o √© a chave prim√°ria).
          
  * **`OneToOneField` (Um-para-Um)**: Similar a um **`ForeignKey`** com **`unique=True`**, mas a rela√ß√£o reversa retorna um √∫nico objeto em vez de uma lista.
  
      * **Primeiro argumento:** O modelo ao qual est√° se relacionando.
      
      * **Propriedades Espec√≠ficas:** Herda as mesmas de **`ForeignKey`**, incluindo **`on_delete`** e **`related_name`**. Adicionalmente, **`parent_link`** (Booleano) pode ser usado em heran√ßa de modelos para criar um link de volta para o modelo pai.
      
  * **`ManyToManyField` (Muitos-para-Muitos)**:
  
      * **Primeiro argumento:** O modelo ao qual est√° se relacionando.
      
      * **Propriedades Espec√≠ficas:**
      
          * **`related_name`**, **`related_query_name`**, **`limit_choices_to`**: Funcionam como em **`ForeignKey`**.
          
          * **`symmetrical`** (Booleano): Usado apenas em rela√ß√µes com o pr√≥prio modelo (`'self'`). Se `True` (padr√£o), a rela√ß√£o √© sim√©trica (se A √© amigo de B, B √© amigo de A).
          
          * **`through`** (String ou Modelo): Especifica um modelo intermedi√°rio customizado para gerenciar a rela√ß√£o muitos-para-muitos.
          
          * **`through_fields`** (Tupla): Especifica quais campos usar no modelo `through` se houver mais de uma chave estrangeira para os modelos envolvidos.
          
          * **`db_table`** (String): O nome da tabela intermedi√°ria que o Django criar√°.

#### ‚úÖ Campos Booleanos

* **`BooleanField`**: Um campo de verdadeiro/falso.
  * **Importante:** Se voc√™ precisar permitir o valor `NULL`, use `NullBooleanField`.
  
* **`NullBooleanField`**: (Obsoleto a partir do Django 4.1, use `BooleanField(null=True)` em vez disso). Armazena `True`, `False` ou `NULL`.

#### üìÇ Campos de Arquivo

* **`FileField`**: Um campo para upload de arquivos.

  * **Propriedades Espec√≠ficas:**
  
      * **`upload_to`** (String ou Fun√ß√£o): Define um caminho no sistema de arquivos onde os arquivos ser√£o salvos. Pode ser uma string com formata√ß√£o de `strftime` ou uma fun√ß√£o que retorna o caminho. **Obrigat√≥rio.**
      
      * `storage`: Um objeto de storage, que lida com o armazenamento e recupera√ß√£o de seus arquivos.
      
      * `max_length` (Inteiro): O comprimento m√°ximo do nome do arquivo. Padr√£o 100.


* **`ImageField`**: Herda de `FileField` e valida se o arquivo enviado √© uma imagem v√°lida. Requer a biblioteca `Pillow`.

  * **Propriedades Espec√≠ficas:**
      * `height_field` (String): Nome de um campo no modelo que ser√° preenchido automaticamente com a altura da imagem.
      
      * `width_field` (String): Nome de um campo no modelo que ser√° preenchido automaticamente com a largura da imagem.

#### üí° Outros Campos

* **`AutoField`**: Um `IntegerField` que incrementa automaticamente. Uma chave prim√°ria √© adicionada automaticamente aos seus modelos se voc√™ n√£o especificar uma.

* **`BigAutoField`**: Um `AutoField` de 64 bits. √â o tipo padr√£o para chaves prim√°rias em novos projetos Django.

* **`UUIDField`**: Armazena um Identificador √önico Universal (UUID). Bom para chaves prim√°rias n√£o sequenciais.

* **`GenericIPAddressField`**: Armazena um endere√ßo IP (IPv4 ou IPv6) em formato de string.

  * **Propriedades Espec√≠ficas:**
  
      * `protocol` (String): Limita as entradas v√°lidas a um protocolo espec√≠fico ('**ipv4**' ou '**ipv6**').
      
      * `unpack_ipv4` (Booleano): Descompacta endere√ßos IPv4 mapeados como `::ffff:192.0.2.1`.
      
* **`JSONField`**: Um campo para armazenar dados codificados em JSON.

  * **Propriedades Espec√≠ficas:**
  
      * `encoder` (Classe): Uma classe de encoder JSON customizada.
      
      * `decoder` (Classe): Uma classe de decoder JSON customizada.
      
* **`BinaryField`**: Um campo para armazenar dados bin√°rios brutos.

Este guia serve como uma refer√™ncia robusta para a constru√ß√£o de seus modelos. Para casos de uso muito espec√≠ficos ou para entender a fundo o comportamento de cada propriedade, a [documenta√ß√£o oficial do Django](https://www.google.com/search?q=https://docs.djangoproject.com/en/stable/ref/models/fields/) continua sendo a fonte definitiva e mais atualizada.